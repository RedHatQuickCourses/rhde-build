<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction to Red Hat Device Edge :: Building Red Hat Device Edge Images</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="s3-images.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Building Red Hat Device Edge Images</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/rhde-build/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="rhde-build" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Building Red Hat Device Edge Images</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Build Operating System Images for Edge Devices</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="s1-devices.html">Introduction to Red Hat Device Edge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="s3-images.html">Design, Build, and Publish Edge Images</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Building Red Hat Device Edge Images</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Building Red Hat Device Edge Images</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Building Red Hat Device Edge Images</a></li>
    <li><a href="index.html">Build Operating System Images for Edge Devices</a></li>
    <li><a href="s1-devices.html">Introduction to Red Hat Device Edge</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Introduction to Red Hat Device Edge</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Estimated reading time: <strong>5 minutes</strong>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Objective</dt>
<dd>
<p>Understand how edge devices differ from traditional Linux servers and the features of Red Hat Enterprise Linux (RHEL) for Edge.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_red_hat_device_edge"><a class="anchor" href="#_what_is_red_hat_device_edge"></a>What is Red Hat Device Edge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Device Edge is a software and support subscription that bundles three components:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Red Hat Enterprise Linux (RHEL)</p>
</li>
<li>
<p>Red Hat build of MicroShift</p>
</li>
<li>
<p>Red Hat Ansible Automation Platform</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>[ figure of RHDE components, include something on elligible hardware or subscription sizing? ]</p>
</div>
<div class="paragraph">
<p>All of these three components can be purchased as part of a number of other subscriptions from Red Hat. For example, RHEL and Ansible are frequently purchaged as their own subscriptions, instead of as part of a bundle, and MicroShift is also available as part of Red Hat OpenShift Container Platform and Red Hat OpenShift Plus.</p>
</div>
<div class="paragraph">
<p>The Red Hat Device Edge subscription is not about unique features and capabilities of its software components, but about a price structure and support scope that better suits supporting edge devices and edge servers, as opposed to supporting servers and workstations at centralized datacenters, IaaS clouds, and corporate offices.</p>
</div>
<div class="paragraph">
<p>This course focus on the RHEL component of Red Hat Device Edge, and more specifically on its feature called <strong>RHEL for Edge</strong>. To understand those features, an IT professional must consider the unique needs and characteristics of edge deployments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_edge_devices_and_edge_servers"><a class="anchor" href="#_edge_devices_and_edge_servers"></a>Edge Devices and Edge Servers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Traditional physical servers and cloud instances exist in strictly controlled datacenter environments and are maintained by an army of highly skilled IT operations personel such as Systems Administrators and Site Reliability Engineers. They tend do be large machines, not necessarily in size but in capacity, as measured in CPU cores and RAM, which require sophisticated power supply and cooling.</p>
</div>
<div class="paragraph">
<p>Edge devices and edge servers, in contrast, may exist in hazard environments, subject to eletromagnetic fields, dust, and heat. They may be directly accessible to end users and the general public, instead of being protected in a server room, and usually have no dedicated team of IT staff. It should be possible to deploy and maintain edge devices without a Red Hat Certified System Administrator on site or acessing remotelly.</p>
</div>
<div class="paragraph">
<p>[ figure of edge devices/servers vs datacente/cloud servers (and office workstations?) ]</p>
</div>
<div class="paragraph">
<p>Edge devices are usually small machines, not just on form factor, but also on capacity, so they do not require special cooling and power. Some of these machines are very similar to end user workstations, while others may be unrecognizable as standard "Personal Computers" (PCs). They tipically include non-standard hardware, at least not common for office workers, such as barcode scanners and programable logic controllers (PLCs).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
RHEL for Edge uses the same kernel and device-drivers as RHEL, and certifies the same hardware. While there are many edge systems certified for RHEL, including a number of rugged computers and ARM systems, you cannot run RHEL in custom computer kits similar to Rasperry PIs.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Edge sites, as the locations where you deploy edge devices and edge servers, vary from having no IT infrastructure at all to being connected to a local area network with dedicated servers and networking gear that would rival with the IT of a support a small business. Nowdadays it&#8217;s very hard to imagine an edge site that is completely disconnected from corporate IT all the time, but edge sites may have low bandwidth, high latency connectivity which is spotty, so applications and management cannot depend on being online.</p>
</div>
<div class="paragraph">
<p>[ Figure of the progression from central IT to near edge to far edge, as an illustration, I&#8217;m not trying to explain all those terms and concepts ]</p>
</div>
<div class="paragraph">
<p>Those constraints of size, capacity, environment, users, and infrastructure require different strategies for deployment and management, as compared to the world of corporate datacenters and cloud instances. RHEL for Edge was desiged for those constraints and, though it is the same RHEL software you run elsewhere, it may not feel nor look like the RHEL you know.</p>
</div>
<div class="paragraph">
<p>Edge is about variability and automation. You may find that, for a particular edge scenario, a traditional subscription from RHEL and OpenShift provides a better return of investiment, or that your hardware is too big to qualify for Red Hat Devie Edge subscriptions, but the tools and processes from RHEL for Edge still bring significant benefits.</p>
</div>
<div class="paragraph">
<p>[ Figure of edge scenarios using RHDE vs traditional RHEL and OCP ]</p>
</div>
<div class="paragraph">
<p>Consider recent incidents such as the CrowdStrike failure, that effectively shut down large business for hourses because they couldn&#8217;t operate check-in booths at airports and radiology equipment in hospitals, as a warning sign that you should NOT plan and manage edge sites the same way you used to plan and manage traditional office and datacenter IT.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_image_based_operating_system_deployment"><a class="anchor" href="#_image_based_operating_system_deployment"></a>Image-Based Operating System Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main strategy for edge device and edge server management is deploying and updating their operating system and applications as a single prebuilt system image. That means you install an edge device and perform minimal on-site configuration (or no configuration at all) and the device is ready for its intended application. Compare that with the multi-step process you would follow for a traditional datacenter server or cloud instance:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the operating system from standard installation image or cloud image.</p>
</li>
<li>
<p>Install additional packages and software.</p>
</li>
<li>
<p>Configure operating system services and third-party applications.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>[ figure of day-0, day-1, and day2 of deploying and configuring a package-based system ]</p>
</div>
<div class="paragraph">
<p>Each of the previous steps is, by itself, another multi-step process, which takes time, and can be performed with small or large variation each time, requiring specialized skills, and is prone to error.</p>
</div>
<div class="paragraph">
<p>While you can prevent human erros and enforce reproducibility and consistency with automation, you woud be, in essense, emulating a human user performing all those steps at day-2. What happens if you lose connectivity to an edge device in the middle of one of those multi-step subprocesses?</p>
</div>
<div class="paragraph">
<p>Image-based deployments ensure that most steps are performed at day-0, as part of image building, so that that systems are as close to ready as possible at day-1 and require only minimal maintenance on day-2.</p>
</div>
<div class="paragraph">
<p>[ Figure of day-0+1+2 of deploying and configuring an image-based system ]</p>
</div>
<div class="paragraph">
<p>Building system images with preconfigured operating systemas and applications is not a new concept. It started with low-level server disk cloning software and evolved to different automation strategies. You can find many preconfigured machine images in large IaaS cloud provider marketplaces and many organizations use golden images to deploy applications consistently into multiple regional datacenter and cloud provider regions. But not all system images are designed to be edge images.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_image_based_updates"><a class="anchor" href="#_image_based_updates"></a>Image-Based Updates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The key to image-based deployments for edge devices and edge servers is to use image-based deployments on day-2 also, when updating applications and system configuration. Instead of logging in to each server to install software patches or change local configurations, following another multi-step process which may fail at any point, and also requires and good connectivity to multiple remote resources, you build a new image that includes those patches and configuration changes. Then you deploy the new image as a single step on the target systems.</p>
</div>
<div class="paragraph">
<p>[ Figure of incomplete provision or updating a package-based system which ends in an uncertain state ]</p>
</div>
<div class="paragraph">
<p>The biggest advantege of performing image-based dployments on day-2 is that those deployments are easy to rollback to a last known good configuration. Because you update the entire system image, instead of individual software packages and configuration files, there&#8217;s always a known good system image with a known state. You never wonder if some dependency was updated or not, nor if a configuration change was reversed or not. You do not worry if there was a power outage in the middle of a system update and your systems are at an undeternined state.</p>
</div>
<div class="paragraph">
<p>Your worst case scenario, with image-based deployments, is either restarting the update process, as if nothing happened, or rollback to before the update and wait until central IT sends you a new system image which fixed whatever issue is preventing the update. And you can perform such rollback at any time after completing the system update, if you find out during the day that the new image is not performing as expected.</p>
</div>
<div class="paragraph">
<p>[ figure of updating an image-based system and rollback to last known good]</p>
</div>
<div class="paragraph">
<p>Image-based deployments are consistent with the IT trend of "shift left" security and hardening to earlier steps of the application development life cycle, and also with cloud-native trends of managing systems and applications as throwaway instances which are easy to recreate and replicate, or as "cattle" instead of "pets".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_rhel_for_edge_software_stack"><a class="anchor" href="#_the_rhel_for_edge_software_stack"></a>The RHEL for Edge Software Stack</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RHEL for Edge feature set relies on the following components of Red Hat Enterprise Linux:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Image Builder</dt>
<dd>
<p>The Image builder tool takes a blueprint as input and outputs different types of operating system images. Those images can be either traditional package-based images or single-system images, which it calls edge images, and those images can be deployed by means of physical media, network boot, or as cloud provider native images.</p>
</dd>
<dt class="hdlist1">OSTree</dt>
<dd>
<p>The OSTree technology enables deploying and updating bootable operating system images as atomic units, with eficient use of both disk space and network bandwidth. OSTree is also capable of preserving the local state of a device, including both operating system configuration and application data, when updating a system image.</p>
</dd>
<dt class="hdlist1">RPM-OSTree</dt>
<dd>
<p>The RPM-ostree technology is a bridge between the world of traditional Linux systems and image-based deployments. It enables building OSTree operating system images from RPM packages and, optionally, adding RPM packages as an extension layer to an OSTree deployment.</p>
</dd>
<dt class="hdlist1">Green Boot</dt>
<dd>
<p>The Green Boot enables performing healh checks at system boot and, if those checks detect any issue, rollback the system to a previous system image. Green Boot ensures that system updates can be aplied safely and reliably, without intervention from IT personal in case of issues.</p>
</dd>
<dt class="hdlist1">FIDO Device Onboard (FDO)</dt>
<dd>
<p>The FDO standars enable installing secrets and configuration data into a device so that the device is able to connect and interact securely with cloud and edge management platforms and with central IT systems. RHEL for Edge supports many alternatives to FDO for performing local device and site configuration, such as Kickstart, cloud-init, and ignition, but the FDO standard is gaining traction in the Internet-of-Things (IoT) commnuity and vendors.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In this course, we focus on using the Image Builder and RPM-OSTree components of RHEL for Edge to deploy and update edge devices. Other courses will teach the use of Green Boot and FDO to automate system image rollback and device onboarding.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rpm_ostree_openshift_and_red_hat_coreos"><a class="anchor" href="#_rpm_ostree_openshift_and_red_hat_coreos"></a>RPM-OSTree, OpenShift, and Red Hat CoreOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The typical RHEL system administrator may not be used to manage image-based systems nor to using the RPM-OSTree technology, but can rest assured that these techologies are battle-tested in large production deployments of OpenShift 4 for many years already.</p>
</div>
<div class="paragraph">
<p>Red Hat CoreOS is Red Hat Enterprise Linux, but deployed and updated using an image-based workflow by the Red Hat OpenShift installer and the OpenShift Machine Operator. The Linux Kernel, device drivers, and system services are the same as from regular RHEL, as they are with RHEL for Edge.</p>
</div>
<div class="paragraph">
<p>Red Hat CoreOS is also designed to be managed by OpenShift, in the sense that you would not log in on OpenShift cluster nodes and change system settings, but would apply those changes using the OpenShift Machine Operator.</p>
</div>
<div class="paragraph">
<p>RHEL for Edge makes the RPM-OSTree techonology and image-based systems available for edge devices and edge servers, whithout the need to use OpenShift and learn its deployment and management workflows. It is a ligher transition for the RHEL system administrator.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_future_rhel_image_mode_and_bootc"><a class="anchor" href="#_the_future_rhel_image_mode_and_bootc"></a>The Future: RHEL Image Mode and Bootc</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you wonder that image-based operating system deployments and updates are very similar to containerised application deployment and management, you are right. In fact, there&#8217;s an ongoing engineering effort to integrate workflows from the Linux container world with the image-based operating systems world. This will become a new feature set of RHEL, called Image Mode, and it is based on a new tool called Bootc.</p>
</div>
<div class="paragraph">
<p>You will be able to use either Image Builder or traditional Linux container tools, such as Podman and Buildah, to build operating system images and distribute them as OCI container images, which eases integration with cloud-native application development tools and CI/CD processes.</p>
</div>
<div class="paragraph">
<p>The first incarnations of RHEL Image Mode will still depend on the the OSTree and RPM-OStree foundations, and, if it ever comes the time they replace OSTree with something else, they are expected to continue relying long-tem on Green Boot, FDO, and other technologies from RHEL for Edge.</p>
</div>
<div class="paragraph">
<p>In essense, RHEL Image Mode will expand the RHEL for Edge feature set for better integration with containerized application development workflows instead of replacing it entirely with a new set of technologies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before learning about the operation and image types supported by Image Builder, you will assess your understanding of how edge sites differ from corporate IT datacenters and cloud IT.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Build Operating System Images for Edge Devices</a></span>
  <span class="next"><a href="s3-images.html">Design, Build, and Publish Edge Images</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
